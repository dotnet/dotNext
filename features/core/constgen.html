<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Generic specialization with constant values | .NEXT </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Generic specialization with constant values | .NEXT ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../fav.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../doc_logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="generic-specialization-with-constant-values">Generic specialization with constant values</h1>

<p>Such kind of specialization <a href="https://en.cppreference.com/w/cpp/language/template_parameters">widely used</a> in C++ to pass a constant known at compile time as template argument. C# and Common Language Runtime do not support this feature directly. DotNext library offers such functionality via conversion of actual generic argument into value using implicit cast conversion. This approach doesn't provide compile time check of constant value passed as generic argument but the type of this constant is controlled by compiler.</p>
<p>The base class for any constant-value-as-generic-argument is <a class="xref" href="https://fuget.org/packages/DotNext/3.0.0/lib/net5.0/DotNext.dll/DotNext.Generic/Constant%601">Constant</a>. This type itself is a generic class which type parameter indicates type of the constant value. If you need to pass constant value as generic argument then two restrictions should be satisfied:</p>
<ol>
<li>Generic parameter should be of type <strong>Constant</strong></li>
<li>Generic parameter should have constructor without parameters</li>
</ol>
<p>The following example demonstrates how to declare custom array type with the specific length passed as constant value into generic argument:</p>
<pre><code class="lang-csharp">using DotNext.Generic;

public sealed class IntVector&lt;SIZE&gt; where SIZE: Constant&lt;long&gt;, new()
{
    private static readonly long Size = new SIZE();

    private readonly int[] array = new int[Size];
}

//declare constant as type
internal sealed class Ten: Constant&lt;long&gt;
{
    public Ten(): base(10) { }
}

//instantiate vector
var vector = new IntVector&lt;Ten&gt;();  //creates vector of length 10
</code></pre>
<p>Constant value passed as generic argument is available in static context inside of vector class. Such approach allows to pass custom data into static constructor and avoid passing unecessary data through instance constructor.</p>
<p>The library offers a few predefined constant types:</p>
<ul>
<li><a class="xref" href="https://fuget.org/packages/DotNext/3.0.0/lib/net5.0/DotNext.dll/DotNext.Generic/BooleanConst">BooleanConst</a> to pass boolean constant as generic argument</li>
<li><a class="xref" href="https://fuget.org/packages/DotNext/3.0.0/lib/net5.0/DotNext.dll/DotNext.Generic/Int32Const">Int32Const</a> to pass integer constant as generic argument</li>
<li><a class="xref" href="https://fuget.org/packages/DotNext/3.0.0/lib/net5.0/DotNext.dll/DotNext.Generic/Int64Const">Int64Const</a> to pass long integer constant as generic argument</li>
<li><a class="xref" href="https://fuget.org/packages/DotNext/3.0.0/lib/net5.0/DotNext.dll/DotNext.Generic/StringConst">StringConst</a> to pass string constant as generic argument</li>
<li><a class="xref" href="https://fuget.org/packages/DotNext/3.0.0/lib/net5.0/DotNext.dll/DotNext.Generic/DefaultConst%601">DefaultConst</a> to pass default value of <code>T</code> as generic argument</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/sakno/dotNext/blob/gh-pages/docs/features/core/constgen.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <div class="toggle-mode">
                <div class="icon">
                  <i aria-hidden="true">☀</i>
                </div>
                <label class="switch">
                  <input type="checkbox" id="switch-style">
                  <span class="slider round"></span>
                </label>
                <div class="icon">
                  <i aria-hidden="true">☾</i>
                </div>
                <script type="text/javascript" src="../../styles/toggle-theme.js"></script>
              </div>
          
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
